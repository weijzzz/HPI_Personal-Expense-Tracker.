import sys

def show_menu():
    """Displays the main menu to the user."""
    print("\n--- Simple Expense Tracker ---")
    print("1. Add a new expense")
    print("2. View all expenses and total")
    print("3. View summary by category")
    print("4. Exit")
    choice = input("Enter your choice (1-4): ")
    return choice

def add_expense(expenses_list):
    print("\nAdding a new expense...")
    description = input("Enter description (e.g., 'Coffee'): ")
    
    while True:
        try:
            amount = float(input("Enter amount: "))
            amount = round(amount, 2)
            break 
        except ValueError:
            print("Invalid input. Please enter a number (e.g., 12.50)")
            
    category = input("Enter category (e.g., 'Food', 'Transport', 'Fun'): ")
    
    expense = {
        "description": description,
        "amount": amount,
        "category": category
    }
    
    expenses_list.append(expense)
    print(f"Success: Added '{description}' (${amount:.2f}) to '{category}'.")

def view_expenses(expenses_list):
    print("\n--- All Expenses ---")
    
    if not expenses_list:
        print("No expenses recorded yet.")
        return

    total_spending = 0
    for i, expense in enumerate(expenses_list):
        desc = expense["description"]
        amt = expense["amount"]
        cat = expense["category"]
        
        print(f"{i+1}. {desc:<20} | {cat:<15} | ${amt:>10.2f}")
        total_spending += amt
        
    print("-" * 50) # Prints a horizontal line
    print(f"TOTAL SPENDING:                ${total_spending:>10.2f}")

def view_summary(expenses_list):
    print("\n--- Summary by Category ---")
    
    if not expenses_list:
        print("No expenses recorded yet.")
        return
    category_totals = {}
    
    for expense in expenses_list:
        category = expense["category"]
        amount = expense["amount"]
        
        
    if not category_totals:
        print("No categories found.")
        return
        
    for category, total in category_totals.items():
        print(f"{category:<15} | ${total:>10.2f}")

def main():
    while True:
        choice = show_menu()
        
        if choice == '1':
            add_expense(expenses)
        elif choice == '2':
            view_expenses(expenses)
        elif choice == '3':
            view_summary(expenses)
        elif choice == '4':
            print("Exiting. Goodbye!")
            sys.exit() # Cleanly exits the program
        else:
            print("Invalid choice. Please enter a number between 1 and 4.")


if __name__ == "__main__":
    main()w
